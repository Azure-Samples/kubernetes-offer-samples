**MICROSFOT CONFIDENTIAL** 

Microsoft Defender â€“ Vulnerability Pre-Scan Check  

Overview:  

Vulnerability scanning is the process of discovering, analyzing, and reporting on security flaws and vulnerabilities. Vulnerability scans are conducted via automated vulnerability scanning tools to identify potential risk exposures. Here we use Microsoft Defender for Cloud and Qualys to identify vulnerabilities in your containers and use publicly available information from www.cve.org to assist in remediation. You can use other open source tools such as Twist Lock, Clair, and Aqua Security to pre-scan your image, however we use Microsoft Defender to complete the cert process so it is recommended that you use the same tool to ensure consistency. This doc will walk you through a pre-scan process using the Azure Portal/ Defender for your container registry to help speed the Azcert process down the line.  

Before beginning the pre-scan process, you will need to set up a Microsoft Azure Portal account to access Defender, if you donâ€™t have an account already. Access to Defender is a paid resource. If you do not have an azure portal account, you can create one here: https://portal.azure.com  

 

Important Notes to Keep in Mind: 

CVEs are common vulnerabilities and exposures of publicly disclosed computer security flaws. During the pre-scan process you will use the CVE link to identify the vulnerability and remediate it.  

Once your image is scanned, in the pop-up blade you will see a CVSS score and if this cvss 3.0 base score is >7 the image will be blocked until remediated. Below is a chart outlining the severity and score range of vulnerabilities.  

Table

Description automatically generated 
 

 

 

 

 

 

 

Vulnerability Pre-Scan Steps 

 

Sign into your Microsoft Azure Portal Account  

 

 

In the search bar, enter container registries  

 

Select your container registry that you have already packaged and uploaded (If you need help uploading the package please refer to here:  Prepare your Azure container technical assets for a Kubernetes application | Microsoft Learn and the additional links at the end of this document). Once selected your view should look something like this: 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

On the left-hand side of the blade, locate â€œMicrosoft Defender for Cloudâ€ or on the top you can select â€œvisit Microsoft Defender for Cloudâ€  

 

 

You will see the Recommendations pop up under â€œdescriptionâ€ below. Here is where you will be able to view each vulnerability.  

 

 

 

 

 

 

 

You can select each description to view severity categories and begin remediating (you will also be able to see manual remediation steps as well) 

 

 

(view if you expand â€œremediation stepsâ€) 

 

 

 

 

 

 

 

 

 

 

 

 To see how to remediate each vulnerability, first click on the id and you will see a pop-up blade.   

 

 

The pop-up blade shows the CVEs which will help you remediate the vulnerability! ğŸ˜Š 

 

 

 

After clicking on the CVE link, you will be redirected to a page that shows you vulnerability details and remediation steps to take to mitigate it  

 

 

After you remediate the vulnerabilities, reupload the image to the registry and review the vulnerability scan to ensure it has been mitigated ğŸ˜Š 

 

 

Additional helpful links to aid in building/deploying your container image:  

Azure Container Registry documentation | Microsoft Learn 

Tutorial - Quick container image build - Azure Container Registry | Microsoft Learn 

Prepare your Azure container technical assets for a Kubernetes application | Microsoft Learn 

 
